{
    "manifest_version": 3,
    "name": "ChessBlocker",
    "version": "0.1",
    
    "author": "Ely Ronnen",
    "description": "Blocking chess sites to increase productivity",
    "icons": {
        "16": "images/ChessBlocker16.png",
        "32": "images/ChessBlocker32.png",
        "48": "images/ChessBlocker48.png",
        "128": "images/ChessBlocker128.png"
    },

    "content_scripts": [
        {
            "all_frames": true,
            "js": ["scripts/utils.js", "scripts/chesscom.js"],
            "matches": [
                "https://*.chess.com/home",
                "https://*.chess.com/play/online/*",
                "https://*.chess.com/game/live/*",
                "https://*.chess.com/live"
            ],
            "run_at": "document_idle"
        },
        {
            "all_frames": true,
            "js": ["scripts/utils.js", "scripts/lichess.js"],
            "matches": [
                "https://*.lichess.org/*"
            ]
        }
    ],

    "background": {
        "service_worker": "background.js"
    },

    "permissions": [
        "storage", 
        "tabs", 
        "declarativeNetRequest",
        "declarativeNetRequestWithHostAccess"
    ],
    "declarative_net_request": {
        "rule_resources": [
            {
                "id": "chesscom_new_game_link",
                "enabled": true,
                "path": "scripts/chesscom_new_game_link_rules.json"
            },
            {
                "id": "lichess_new_game_link",
                "enabled": true,
                "path": "scripts/lichess_new_game_link_rules.json"
            }
        ]
    },
    "host_permissions": [
        "https://*.chess.com/play/online/new?action=createLiveChallenge*",
        "https://*.lichess.org/#pool/*"
    ],

    "options_page": "pages/options.html",
    "action": {
        "default_popup": "pages/popup.html"
    }
}